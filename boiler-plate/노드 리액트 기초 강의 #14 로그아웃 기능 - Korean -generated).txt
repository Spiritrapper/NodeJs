안녕하세요 이번시간에는 로그아웃 기능 을 만들 건데요

지금까지 저희가 회원가입 끼는 만들고 이제 로베인 기능도 만들었으니까

a0 가 웃기는 을 만들 차린 되어 와 그러기 위해서는 로그아웃 라우트

를 만들고

여기에서 로바 타려는 유저를 데이터베이스에서 찾아서 그 데이터베이스의

어초 큰 을

그 데이터베이스의 그 유저의 토큰을 지어 주면 되거든요

왜 토큰을 쥐어주면 대체재 하면요

저어 제가 전 시간에 이 이어스 기능을 만들어 짜 나요

거기서 이 인증을 할 때 미포 큰 클라이언트 쿠키의 있는 토큰 을

가져와서 여기서 이포 큰 데이터베이스에 있는 표 칸과 같은 지 이제

확인된 함으로써 인증을 시켜 짜 나요

근데 만약에 이 토큰이 여기 데이터베이스의 없으며 는 이 클라이언트에서

가져온 폭행이 맞지 않기 때문에 인증이 안 되게 되는 거죠

그렇기 때문에 이 로그아웃 할 때 토큰을 매년 지어주면 을 인증이 안되서

로그인 기능이 풀려 버려요

그렇기 때문에 그냥 데이터베이스에서 유저의 토큰을 지어주면 됩니다

이렇게 생각을 하시고 저희가 이제 텍스트 에디터에 왓어요

여기죠

아 여기서 로그아웃 루트를 이제 만들어 주면 되는데요

으 예 켓

ms 그리고 api use l l

로그 아웃 5 이렇게 한 다음 에요

지금 이 마우스를 레벨 로그인 된 상태 개척 로그아웃시 라면은 로그인 된

상태이기 때문에 이 버스 미드 웨어를 넣어주면 됩니다

다음에 으 리 스 me 퀘스트

콜백 펜션을 이용해서

로 가하려는 유저를 데이터베이스 찾아서 니까

유저 모델을 가져와서 파인 월

n 업데이 지거든요

u 자를 찾아서 없대 식 처 전횡 거야 그 데이터들을

그래서 유저 찾을 때는 아이디로 찾겠죠

detest 이젤

알기 이거는 이미 드 웨 어 버스 미드 웨어에서

- 유저 넣었 있잖아요 리퀘스트 에 그래서 미드 웨어에서 이제 가져와서

찾은 다음에 요 2 두번째 꺼는

이 두 번째 옥죄는 에서는 요 소 큰 을

이제 지워주는 거에요 그 다음에 마지막으로 5 개 콜 백성 션 해주며 는

얘기죠

잘 때 에러가 났다면 은 l l

리스판스 제이썬 데이터로

ss 폴스 계세요

그리고 에러메세지 점자를 주셔요

그 다음에 만 얇게

어 성공을 했다 하면은 리 스 8 스 스트레스 202 줘

니모 샌들 s

쥬르 이렇게 하면 됩니다

이제 로그아웃 루트는 대표 빨리 끝났는데요

아 이거 를 한번 이제 테스트를 해볼게요

로그아웃이 잘 됐는지 그러면은 어휘는 데이터베이스의

4는 이 토큰이 있는 이 red 즉 여 에게 로그인 되어 있는 거거든요

왜냐하면 토큰 이렇게 있으니까

그래서 이거를 로그아웃이 켜 볼게요 2 테스트 원을 내야

남정

아 서버를 표 알겠죠 and losers 했어

어 에러가 있었네요

예 잠시만요 유저의 일이 또 exo 어스 이렇게 보니까 제가 이거를

설명하다가

없어 면제 아우 쓰 다시 해줘야 되는데 이렇게 대단해 그래서 여기

없애주고 요 다시 점 을 켜 볼게요

lp 하는것은 스탈

하잖아요 에 또 여러 있네요

아이들 보면은 제 스펠링을 제 3항 썼습니다 죄송합니다 다시 서버를

해보면 eric 5

네 이제 5 실이 돌아가네요

이렇게 안 다음에 음 이제 포 시점에 킨 다음 에요

새로운 뭐 하고 5개 리퀘스트 였죠 그런 다음에

요코 오브젝트 크기 서 엉 로그 초 뭐였죠

그 & p 가 로그아웃이 줘 핸드폰이 털 로그아웃

그 다음에 에 샌들을 눌러보면 요

8기 유저 있음 돼 유저의 어디에 있죠

다시 아까 서 sn 다시 눌르면

어 잠시 에러가 좀 나서 제가 어 멈췄다가 다시 있는데요

에러가 뭐였냐면 요 자

이런거를 또 자 이제 원래 했던 코드를 보면서 하는데도 이제 봄 에러가

나네요

i 크고 왜냐면 에게 리스판스 머리 캐스트지

순서가 바뀌었어요 에리스 펜스가 여기로 가야되고 리퀘스트 가 1로 가세요

그래서 제 받고 노니까 여기서 리퀘스트 user id 를 못 자본 거에요

그래서 못 잡아 효율 저를 못 찾아서 에러가 계속 났는데

예 그렇게 한 다음에 연

서버를 다식 서버를

자 시키고 요

그 다음에 이제

포스트맨 에서 로그인을 먼저 할게요 이걸 로그인 하고요

어서 세스 추로 나왔죠 내고 이제 제 로그아웃

이걸로 샌들을 누르면 요

이제 에서 쎄서 트롤 같죠 그러면 을 데이터베이스의 그 토큰이 없어졌는지

이익도 있는지 한번 봐 보겠읍니다

으 이를 리프레쉬 하면 줘

어이 보면 제 토큰이 없어졌죠

예 그래서 이렇게 로그아웃 기능도 완료됐습니다

감사합니다

